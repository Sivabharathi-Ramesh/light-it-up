{% extends "base.html" %}

{% block title %}Physics - Science Playground{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/physics-games.css') }}">
{% endblock %}

{% block content %}
<div class="screen physics-screen active" id="physics-screen">
    <div class="topic-header">
        <h2><i class="fas fa-atom"></i> Physics Mini-Games</h2>
        <div class="instruction-bubble">
            Hover over a box to hear its name, and click to start exploring!
        </div>
    </div>
    
    <div class="concept-navigation" id="conceptNavigation">
        </div>
    
    <div class="progress-container">
        <div class="progress-bar" id="topicProgressBar" style="width: 0%"></div>
    </div>

    <div class="topic-content-grid" id="topicContentGrid" style="display: none; position: relative;">
        <button class="btn btn-secondary btn-sm btn-small" id="backToConceptsButton" style="position: absolute; top: 10px; right: 10px; display: none; z-index: 2;">
            <i class="fas fa-arrow-left"></i>
        </button>
        <div class="concept-explanation" id="conceptExplanation"></div>
        <div class="simulation-area" id="simulationArea"></div>
        <div class="fun-formula-area" id="funFormulaArea"></div>
        <div class="quiz-container" id="quizContainer"></div>
    </div>
    
    <div class="game-controls">
        <a href="/" class="btn btn-primary"><i class="fas fa-arrow-left"></i> Back to Menu</a>
        <button class="btn btn-success" id="nextConceptButton" style="display: none;">Next Game <i class="fas fa-arrow-right"></i></button>
    </div>

    <div class="cartoon-instructor-container">
        <!-- ðŸ”¹ Replaced the static SVG with a Lottie animation container -->
        <div id="cartoon-instructor" class="cartoon-instructor"></div>
        <div class="cartoon-speech-bubble">
            Welcome to Physics! Let's explore the wonders of the universe together!
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<!-- ðŸ”¹ Added Lottie.js before your existing script -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bodymovin/5.7.6/lottie.min.js"></script>
<script>
    // Load the Lottie animation for instructor
    var instructorAnimation = lottie.loadAnimation({
        container: document.getElementById('cartoon-instructor'),
        renderer: 'svg',
        loop: true,
        autoplay: true,
        path: "{{ url_for('static', filename='animations/professor.json') }}"  // âœ… Replace this path with your JSON file path
    });
</script>

<script src="{{ url_for('static', filename='js/physics.js') }}"></script>
{% endblock %}
