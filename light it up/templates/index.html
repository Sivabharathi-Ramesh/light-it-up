<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science Playground - Learn Through Play</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/animations.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="audio-controls">
            <button id="muteToggle" class="btn btn-primary audio-btn">
                <i class="fas fa-volume-up"></i>
            </button>
        </div>

        <header>
            <h1><i class="fas fa-flask"></i> Science Playground <i class="fas fa-rocket"></i></h1>
            <p>Discover the wonders of science through interactive play!</p>
        </header>

        <div class="screen welcome-screen active" id="welcome-screen">
            <div class="welcome-container">
                <div class="welcome-animation">
                    <div class="floating-particles">
                        <div class="particle" style="--i:1;"></div>
                        <div class="particle" style="--i:2;"></div>
                        <div class="particle" style="--i:3;"></div>
                        <div class="particle" style="--i:4;"></div>
                        <div class="particle" style="--i:5;"></div>
                        <div class="particle" style="--i:6;"></div>
                        <div class="particle" style="--i:7;"></div>
                        <div class="particle" style="--i:8;"></div>
                    </div>
                    
                    <div class="welcome-title">
                        <h2>Welcome to the Science Playground!</h2>
                        <div class="welcome-subtitle">Where Curiosity Meets Fun!</div>
                    </div>

                    <div class="name-input-section">
                        <div class="form-group">
                            <label for="playerName">
                                <i class="fas fa-user-graduate"></i>
                                What's your name, future scientist?
                            </label>
                            <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
                            <div class="input-feedback"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="playerGrade">
                                <i class="fas fa-graduation-cap"></i>
                                Select your grade level:
                            </label>
                            <select id="playerGrade">
                                <option value="1">Grade 1-2 (Beginner Explorer)</option>
                                <option value="2">Grade 3-4 (Junior Scientist)</option>
                                <option value="3">Grade 5-6 (Science Adventurer)</option>
                                <option value="4">Grade 7-8 (Master Scientist)</option>
                            </select>
                        </div>
                    </div>

                    <div class="welcome-actions">
                        <button class="btn btn-primary btn-large" id="startLearning">
                            <i class="fas fa-play"></i>
                            Start Your Science Adventure
                        </button>
                    </div>
                </div>
            </div>

            <div class="welcome-features">
                <div class="feature-card">
                    <i class="fas fa-gamepad"></i>
                    <h4>Interactive Games</h4>
                    <p>Learn through fun simulations and challenges</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-trophy"></i>
                    <h4>Earn Badges</h4>
                    <p>Collect achievements as you learn</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-chart-line"></i>
                    <h4>Track Progress</h4>
                    <p>See your improvement over time</p>
                </div>
            </div>
        </div>

        <div class="screen personalized-welcome-screen" id="personalized-welcome-screen">
            <div class="welcome-animation-container">
                <div class="confetti-container">
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                </div>
                
                <div class="welcome-message-container">
                    <div class="welcome-avatar">
                        <div class="avatar-circle">
                            <i class="fas fa-user-astronaut"></i>
                        </div>
                    </div>
                    
                    <div class="welcome-text">
                        <h2 id="personalizedGreeting">Welcome, Scientist!</h2>
                        <div class="typewriter-text" id="welcomeMessage">
                            Get ready to explore the amazing world of science!
                        </div>
                    </div>
                    
                    <div class="welcome-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="totalConcepts">28</div>
                            <div class="stat-label">Concepts to Explore</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="totalBadges">5</div>
                            <div class="stat-label">Badges to Earn</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">âˆž</div>
                            <div class="stat-label">Fun to Have!</div>
                        </div>
                    </div>
                </div>
                
                <div class="welcome-actions">
                    <button class="btn btn-success btn-large" id="enterPlayground">
                        <i class="fas fa-play-circle"></i>
                        Enter the Playground
                    </button>
                </div>
            </div>
        </div>

        <div class="screen main-menu-screen" id="main-menu-screen">
            <div class="user-header">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user-astronaut"></i>
                    </div>
                    <div class="user-details">
                        <h3 id="userWelcome">Welcome back, Scientist!</h3>
                        <div class="user-score">
                            <i class="fas fa-star"></i>
                            Total Score: <span id="userTotalScore">0</span>
                        </div>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn btn-warning" id="viewScoreboard">
                        <i class="fas fa-trophy"></i>
                        Scoreboard
                    </button>
                </div>
            </div>

            <h2>Science Exploration Zones</h2>
            
            <div class="progress-overview">
                <div class="overall-progress">
                    <div class="progress-label">Overall Progress</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="overallProgressBar" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="overallProgressText">0% Complete</div>
                </div>
            </div>
            
            <div class="main-menu">
                <div class="topic-card motion" data-topic="physics">
                    <div class="topic-icon">
                        <i class="fas fa-atom"></i>
                    </div>
                    <h3>Physics Explorer</h3>
                    <p>Explore forces, motion, energy, and the universe's rules!</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar"></div>
                        </div>
                        <div class="progress-text">0/8 Complete</div>
                    </div>
                </div>
                
                <div class="topic-card" data-topic="chemistry" style="border-left: 5px solid #9B59B6;">
                    <div class="topic-icon" style="color: #9B59B6;">
                        <i class="fas fa-flask"></i>
                    </div>
                    <h3>Chemistry Reactions</h3>
                    <p>Mix, fizz, and bubble! Discover the secrets of chemical reactions.</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar"></div>
                        </div>
                        <div class="progress-text">0/3 Complete</div>
                    </div>
                </div>
                
                <div class="topic-card" data-topic="biology" style="border-left: 5px solid #2ECC71;">
                    <div class="topic-icon" style="color: #2ECC71;">
                        <i class="fas fa-leaf"></i>
                    </div>
                    <h3>Biology: Life Science</h3>
                    <p>From tiny cells to vast ecosystems, explore the wonders of life.</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar"></div>
                        </div>
                        <div class="progress-text">0/3 Complete</div>
                    </div>
                </div>
                
                <div class="topic-card" data-topic="astronomy" style="border-left: 5px solid #3498DB;">
                    <div class="topic-icon" style="color: #3498DB;">
                        <i class="fas fa-meteor"></i>
                    </div>
                    <h3>Astronomy: Space</h3>
                    <p>Blast off to explore stars, planets, and mysterious galaxies far, far away.</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar"></div>
                        </div>
                        <div class="progress-text">0/3 Complete</div>
                    </div>
                </div>

                <div class="topic-card" data-topic="scientists" style="border-left: 5px solid #f1c40f;">
                    <div class="topic-icon" style="color: #f1c40f;">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <h3>Famous Scientists</h3>
                    <p>Learn about the brilliant minds behind the greatest discoveries in science.</p>
                </div>
            </div>
            
            <div class="game-controls">
                <button class="btn btn-warning" id="backToWelcome">
                    <i class="fas fa-home"></i>
                    Back to Welcome
                </button>
            </div>
        </div>

        <div class="screen scoreboard-screen" id="scoreboard-screen">
            <h2><i class="fas fa-trophy"></i> Science Champions</h2>
            
            <div class="scoreboard-header">
                <div class="user-rank">
                    <div class="rank-label">Your Rank</div>
                    <div class="rank-number" id="userRank">-</div>
                </div>
                <div class="user-score-display">
                    <div class="score-label">Your Score</div>
                    <div class="score-number" id="userScoreDisplay">0</div>
                </div>
            </div>

            <div class="scoreboard-list">
                <div class="scoreboard-header-row">
                    <div class="rank-col">Rank</div>
                    <div class="name-col">Scientist</div>
                    <div class="score-col">Score</div>
                    <div class="badges-col">Badges</div>
                </div>
                <div class="scoreboard-entries" id="scoreboardEntries">
                </div>
            </div>

            <div class="user-badges">
                <h3>Your Badges</h3>
                <div class="badges-container" id="userBadgesContainer">
                    <div class="badge-placeholder">
                        <i class="fas fa-medal"></i>
                        <p>Complete concepts to earn badges!</p>
                    </div>
                </div>
            </div>
            
            <div class="game-controls">
                <button class="btn btn-primary" id="backToMenuFromScoreboard">
                    <i class="fas fa-arrow-left"></i>
                    Back to Menu
                </button>
            </div>
        </div>

        <div class="character">
            <div class="bubble" id="speechBubble">Hi! I'm Professor Proton! Ready to explore science?</div>
            <div class="robot" id="professorProton">
                <div class="head">
                    <div class="eye left"></div>
                    <div class="eye right"></div>
                    <div class="mouth"></div>
                </div>
                <div class="body">
                    <div class="arm left"></div>
                    <div class="arm right"></div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Science Playground - Where Future Scientists Are Born!</p>
            <p>Created with <i class="fas fa-heart" style="color: #FF6B6B;"></i> for curious young minds</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/audio.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>