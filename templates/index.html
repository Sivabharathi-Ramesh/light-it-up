<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics Playground - Learn Physics Through Play</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/animations.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- Audio Controls -->
        <div class="audio-controls">
            <button id="muteToggle" class="btn btn-primary audio-btn">
                <i class="fas fa-volume-up"></i>
            </button>
        </div>

        <header>
            <h1><i class="fas fa-atom"></i> Physics Playground <i class="fas fa-rocket"></i></h1>
            <p>Discover the wonders of physics through interactive play!</p>
        </header>

        <!-- Welcome Screen -->
        <div class="screen welcome-screen active" id="welcome-screen">
            <div class="welcome-container">
                <div class="welcome-animation">
                    <div class="floating-particles">
                        <div class="particle" style="--i:1;"></div>
                        <div class="particle" style="--i:2;"></div>
                        <div class="particle" style="--i:3;"></div>
                        <div class="particle" style="--i:4;"></div>
                        <div class="particle" style="--i:5;"></div>
                        <div class="particle" style="--i:6;"></div>
                        <div class="particle" style="--i:7;"></div>
                        <div class="particle" style="--i:8;"></div>
                    </div>
                    
                    <div class="welcome-title">
                        <h2>Welcome to Physics Playground!</h2>
                        <div class="welcome-subtitle">Where Science Meets Fun!</div>
                    </div>

                    <div class="name-input-section">
                        <div class="form-group">
                            <label for="playerName">
                                <i class="fas fa-user-graduate"></i>
                                What's your name, future scientist?
                            </label>
                            <input type="text" id="playerName" placeholder="Enter your name" maxlength="20">
                            <div class="input-feedback"></div>
                        </div>
                        
                        <div class="form-group">
                            <label for="playerGrade">
                                <i class="fas fa-graduation-cap"></i>
                                Select your grade level:
                            </label>
                            <select id="playerGrade">
                                <option value="1">Grade 1-2 (Beginner Explorer)</option>
                                <option value="2">Grade 3-4 (Junior Scientist)</option>
                                <option value="3">Grade 5-6 (Physics Adventurer)</option>
                                <option value="4">Grade 7-8 (Master Physicist)</option>
                            </select>
                        </div>
                    </div>

                    <div class="welcome-actions">
                        <button class="btn btn-primary btn-large" id="startLearning">
                            <i class="fas fa-play"></i>
                            Start Physics Adventure
                        </button>
                    </div>
                </div>
            </div>

            <div class="welcome-features">
                <div class="feature-card">
                    <i class="fas fa-gamepad"></i>
                    <h4>Interactive Games</h4>
                    <p>Learn through fun simulations and challenges</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-trophy"></i>
                    <h4>Earn Badges</h4>
                    <p>Collect achievements as you learn</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-chart-line"></i>
                    <h4>Track Progress</h4>
                    <p>See your improvement over time</p>
                </div>
            </div>
        </div>

        <!-- Personalized Welcome Screen -->
        <div class="screen personalized-welcome-screen" id="personalized-welcome-screen">
            <div class="welcome-animation-container">
                <div class="confetti-container">
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                    <div class="confetti"></div>
                </div>
                
                <div class="welcome-message-container">
                    <div class="welcome-avatar">
                        <div class="avatar-circle">
                            <i class="fas fa-user-astronaut"></i>
                        </div>
                    </div>
                    
                    <div class="welcome-text">
                        <h2 id="personalizedGreeting">Welcome, Scientist!</h2>
                        <div class="typewriter-text" id="welcomeMessage">
                            Get ready to explore the amazing world of physics!
                        </div>
                    </div>
                    
                    <div class="welcome-stats">
                        <div class="stat-item">
                            <div class="stat-number" id="totalConcepts">0</div>
                            <div class="stat-label">Concepts to Explore</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number" id="totalBadges">5</div>
                            <div class="stat-label">Badges to Earn</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-number">âˆž</div>
                            <div class="stat-label">Fun to Have!</div>
                        </div>
                    </div>
                </div>
                
                <div class="welcome-actions">
                    <button class="btn btn-success btn-large" id="enterPlayground">
                        <i class="fas fa-play-circle"></i>
                        Enter Physics Playground
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Menu -->
        <div class="screen main-menu-screen" id="main-menu-screen">
            <div class="user-header">
                <div class="user-info">
                    <div class="user-avatar">
                        <i class="fas fa-user-astronaut"></i>
                    </div>
                    <div class="user-details">
                        <h3 id="userWelcome">Welcome back, Scientist!</h3>
                        <div class="user-score">
                            <i class="fas fa-star"></i>
                            Total Score: <span id="userTotalScore">0</span>
                        </div>
                    </div>
                </div>
                <div class="header-actions">
                    <button class="btn btn-warning" id="viewScoreboard">
                        <i class="fas fa-trophy"></i>
                        Scoreboard
                    </button>
                </div>
            </div>

            <h2>Physics Exploration Zones</h2>
            
            <div class="progress-overview">
                <div class="overall-progress">
                    <div class="progress-label">Overall Progress</div>
                    <div class="progress-container">
                        <div class="progress-bar" id="overallProgressBar" style="width: 0%"></div>
                    </div>
                    <div class="progress-text" id="overallProgressText">0% Complete</div>
                </div>
            </div>
            
            <div class="main-menu">
                <div class="topic-card motion" data-topic="motion">
                    <div class="topic-icon">
                        <i class="fas fa-running"></i>
                    </div>
                    <h3>Motion & Forces</h3>
                    <p>Explore how things move, speed, velocity, acceleration, and the magic of forces!</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar" data-topic="motion" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">0/6 Complete</div>
                    </div>
                </div>
                
                <div class="topic-card energy" data-topic="energy">
                    <div class="topic-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>Energy & Work</h3>
                    <p>Discover different forms of energy and how work transforms our world!</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar" data-topic="energy" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">0/5 Complete</div>
                    </div>
                </div>
                
                <div class="topic-card electricity" data-topic="electricity">
                    <div class="topic-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>Electricity & Magnetism</h3>
                    <p>Unleash the power of circuits and explore the invisible force of magnets!</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar" data-topic="electricity" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">0/5 Complete</div>
                    </div>
                </div>
                
                <div class="topic-card matter" data-topic="matter">
                    <div class="topic-icon">
                        <i class="fas fa-vial"></i>
                    </div>
                    <h3>Matter & Its States</h3>
                    <p>Dive into the world of atoms, molecules, and the states of matter!</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar" data-topic="matter" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">0/7 Complete</div>
                    </div>
                </div>
                
                <div class="topic-card waves" data-topic="waves">
                    <div class="topic-icon">
                        <i class="fas fa-water"></i>
                    </div>
                    <h3>Waves & Sound</h3>
                    <p>Ride the waves of sound and light and discover how they travel!</p>
                    <div class="topic-progress">
                        <div class="progress-container">
                            <div class="progress-bar" data-topic="waves" style="width: 0%"></div>
                        </div>
                        <div class="progress-text">0/5 Complete</div>
                    </div>
                </div>
            </div>
            
            <div class="game-controls">
                <button class="btn btn-warning" id="backToWelcome">
                    <i class="fas fa-home"></i>
                    Back to Welcome
                </button>
            </div>
        </div>

        <!-- Scoreboard Screen -->
        <div class="screen scoreboard-screen" id="scoreboard-screen">
            <h2><i class="fas fa-trophy"></i> Physics Champions</h2>
            
            <div class="scoreboard-header">
                <div class="user-rank">
                    <div class="rank-label">Your Rank</div>
                    <div class="rank-number" id="userRank">-</div>
                </div>
                <div class="user-score-display">
                    <div class="score-label">Your Score</div>
                    <div class="score-number" id="userScoreDisplay">0</div>
                </div>
            </div>

            <div class="scoreboard-list">
                <div class="scoreboard-header-row">
                    <div class="rank-col">Rank</div>
                    <div class="name-col">Scientist</div>
                    <div class="score-col">Score</div>
                    <div class="badges-col">Badges</div>
                </div>
                <div class="scoreboard-entries" id="scoreboardEntries">
                    <!-- Scoreboard entries will be loaded here -->
                </div>
            </div>

            <div class="user-badges">
                <h3>Your Badges</h3>
                <div class="badges-container" id="userBadgesContainer">
                    <div class="badge-placeholder">
                        <i class="fas fa-medal"></i>
                        <p>Complete concepts to earn badges!</p>
                    </div>
                </div>
            </div>
            
            <div class="game-controls">
                <button class="btn btn-primary" id="backToMenuFromScoreboard">
                    <i class="fas fa-arrow-left"></i>
                    Back to Menu
                </button>
            </div>
        </div>

        <!-- Topic Screens (Motion, Energy, Electricity, Matter, Waves) -->
        <!-- These would be similar to previous implementation but enhanced -->
        <div class="screen topic-screen" id="topic-screen">
            <!-- Content loaded dynamically -->
        </div>

        <!-- Character and Speech Bubble -->
        <div class="character">
            <div class="bubble" id="speechBubble">Hi! I'm Professor Proton! Ready to explore physics?</div>
            <div class="robot" id="professorProton">
                <div class="head">
                    <div class="eye left"></div>
                    <div class="eye right"></div>
                    <div class="mouth"></div>
                </div>
                <div class="body">
                    <div class="arm left"></div>
                    <div class="arm right"></div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>Physics Playground - Where Future Physicists Are Born!</p>
            <p>Created with <i class="fas fa-heart" style="color: #FF6B6B;"></i> for curious young minds</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/utils.js') }}"></script>
    <script src="{{ url_for('static', filename='js/audio.js') }}"></script>
    <script src="{{ url_for('static', filename='js/main.js') }}"></script>
    <script src="{{ url_for('static', filename='js/motion.js') }}"></script>
    <script src="{{ url_for('static', filename='js/energy.js') }}"></script>
    <script src="{{ url_for('static', filename='js/electricity.js') }}"></script>
    <script src="{{ url_for('static', filename='js/matter.js') }}"></script>
    <script src="{{ url_for('static', filename='js/waves.js') }}"></script>
</body>
</html>